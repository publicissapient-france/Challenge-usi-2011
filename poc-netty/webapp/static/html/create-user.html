<html>
<head>
    <script type="text/javascript" src="../script/jquery-1.3.2.js"></script>
    <script type="text/javascript" src="../script/jquery.json-1.3.min.js"></script>

</head>
<body>
<h1>Identification</h1>

<form action="" method="post">
    <label>Email</label>
    <input type="text" name="mail"/>
    <br/>
    <label>Mot de passe</label>
    <input type="text" name="password"/>
    <br/>
    <label>Firstname</label>
    <input type="text" name="firstname"/>
    <br/>
    <label>Lastname</label>
    <input type="text" name="lastname"/>
    <br/>
    <input type="submit" value="OK">
</form>
<script type="text/javascript">

    $.fn.serializeObject = function()
    {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function()
        {
            if (o[this.name]) {
                if (!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            }
            else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    };

    $('form').submit(function()
    {
        $.ajax({type: "POST", url: "../../api/user", data: $.toJSON($('form').serializeObject()), dataType: "json", success: function(data)
        {
            alert("response : "+data);
        }});
        return false;
    });

</script>

</body>
</html>